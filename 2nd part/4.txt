
#include <iostream>
#include <vector>
#include <string>
#include <iomanip>

using namespace std;

class Client {
public:
    Client();
    Client(string name, string billingAdress, string postalInfo);
    void ShowClients();
    string name;
    string billingAdress;
    string postalInfo;

};

class Product {
public:
    Product(string description, unsigned int price);
    unsigned int getPrice();
    string description;
private:
    unsigned int price;
};

class Invoice {
public:
    Invoice(Client client);
    void AddProduct(Product product, unsigned int quantity);
    void Show();
private:
    Client client;
    vector<pair<Product, int>> items;

};

Client::Client() {
    name = "";
    billingAdress = "";
    postalInfo = "";
}
Client::Client(string name, string billingAdress, string postalInfo) {
    this->name = name;
    this->billingAdress = billingAdress;
    this->postalInfo = postalInfo;

}
//--------------------------------------------------------------

Product::Product(string description, unsigned int price) {
    this->description = description;
    this->price = price;
}
unsigned int Product::getPrice() {
    return price;
}

//----------------------------------------------------

Invoice::Invoice(Client client) {
    this->client = client;
}

void Invoice::AddProduct(Product product, unsigned int quantity) {
    items.push_back(make_pair(product, quantity));
}
void Invoice::Show() {
    cout << client.name << "\n";
    cout << client.billingAdress << "\n";
    cout << client.postalInfo << "\n\n";
    cout << "Description\t\t" << "Price\t" << "Qty\t" << "Total\n";
    for (size_t i = 0; i < items.size(); i++) {
        cout << left << setw(10) << items[i].first.description << "\t\t";
        cout << items[i].first.getPrice() << "\t";
        cout << items[i].second << "\t";
        cout << items[i].first.getPrice() * items[i].second << "\t";
        cout << "\n";
    }
}
//-------------------------------------------------
int main()
{
    //insert products in stock
    Product Product1("Pen USB", 5);
    Product Product2("Rato PC", 10);
    Product Product3("Teclado", 30);
    Product Product4("Portatil HP", 550);

    //insert clients
    Client client1("Diogo Costa", "Rua Mestre Guilherme Camarinha 138", "4200-537");
    Client client2("Joao Alves", "Avenida da Liberdade", "4200-690");

    Invoice invoice1(client1);           //create invoice for a client
    invoice1.AddProduct(Product1, 2);    //add purchased products
    invoice1.AddProduct(Product4, 1);
    invoice1.Show();                     //display invoice


}
